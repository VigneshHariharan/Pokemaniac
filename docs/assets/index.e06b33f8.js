var ne=Object.defineProperty,ae=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var q=(e,t,n)=>t in e?ne(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))se.call(t,n)&&q(e,n,t[n]);if(V)for(var n of V(t))oe.call(t,n)&&q(e,n,t[n]);return e},w=(e,t)=>ae(e,re(t));import{r as f,u as ce,j as G,L as le,a as ie,g as H,B as me,R as de,b as I,c as ue,d as he}from"./vendor.770dce4a.js";const pe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function c(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}};pe();const J=(e,t,n=!1)=>{(!localStorage.getItem(e)||n)&&localStorage.setItem(e,JSON.stringify(t))},Y=e=>{const t=localStorage.getItem(e);return t?JSON.parse(t):null},fe=(e,t)=>{let n;return function(...c){const s=()=>{clearTimeout(n),e(...c)};clearTimeout(n),setTimeout(s,t)}},S="https://pokeapi.co/api/v2",W="types",ge=async e=>{const t=`${S}/pokemon/${e}`;try{return{data:await(await fetch(t)).json(),errorMessage:""}}catch(n){return console.log("Error while running fetchPokemonDetailsByName :",n),{data:[],errorMessage:n}}},ye=async e=>{const t=`${S}/pokemon-species/${e}`;try{return{data:await(await fetch(t)).json(),errorMessage:""}}catch(n){return console.log("Error while running fetchPokemonSpeciesDetailsByName :",n),{data:[],errorMessage:n}}},L=async()=>{const e="https://raw.githubusercontent.com/VigneshHariharan/Pokemaniac/main/src/data/allPokemonKeys.json";try{return{data:await(await fetch(e)).json(),error:""}}catch(t){return console.log("Error while running fetchAllPokemonWithDetails :",t),{data:[],error:t}}},xe=async()=>{var n;const e=`${S}/type`,t=await Y(W);if(t)return t;try{const l=(n=(await(await fetch(e)).json()).results)==null?void 0:n.slice(0,18);return J(W,{data:l,errorMessage:""}),{data:l,errorMessage:""}}catch(c){return console.log("Error at ",e,c),{data:[],errorMessage:c}}},Te=async e=>{try{return{data:await(await fetch(e)).json(),errorMessage:""}}catch(t){return console.log("Error at ",e,t),{data:null,errorMessage:t}}},Ee=async()=>{const e="https://raw.githubusercontent.com/VigneshHariharan/Pokemaniac/main/src/data/allMoves.json";try{return{data:await(await fetch(e)).json(),errorMessage:""}}catch(t){return console.log("Error at ",e,t),{data:null,errorMessage:t}}},Q=()=>{const[e,t]=f.exports.useState(!1),[n,c]=f.exports.useState([]),[s,l]=f.exports.useState([]),[o,m]=f.exports.useState(""),[r,d]=f.exports.useState([]),[p,u]=f.exports.useState([]),E=ce(),y=f.exports.useCallback(N=>{E("/Pokemaniac/"+N)},[]),x=f.exports.useCallback(({type:N,name:g=""})=>{var _;const h=[...r],k=h==null?void 0:h.findIndex(M=>M===N);k>-1?h.splice(k,1):N&&h.push(N);const A=(_=s.order)==null?void 0:_.filter(M=>{var z,U;const b=(g==null?void 0:g.length)===0||((z=M.substring(0,g==null?void 0:g.length))==null?void 0:z.toUpperCase())===((g==null?void 0:g.toUpperCase())||"");let j=!1;const C=n[M];for(let te of C==null?void 0:C.types)h.includes(te)&&(j=!0);let $=(h==null?void 0:h.length)===0||j;return console.log("typeConsideration",$,h,b,(U=M.substring(0,g==null?void 0:g.length))==null?void 0:U.toUpperCase(),g),$&&b}),O=w(T({},n),{order:A});c(O),d(h)},[r,n]),P=()=>{c(s),d([])};return f.exports.useEffect(function(){t(!0),(async()=>{const[h,k]=await Promise.all([await L(),await xe()]);t(!1),c(h.data),l(h.data),m(h.errorMessage),u(k.data)})()},[]),{isListingLoading:e,pokeListing:n,typesFiltered:r,pokemonTypes:p,listingErrorMessage:o,handlePokemonDetails:y,resetToDefaultFilters:P,handleFilters:x}},a=G.exports.jsx,i=G.exports.jsxs,K=e=>a("div",{className:"flex flex-wrap py-4 px-4 lg:px-8 bg-slate-100 dark:bg-slate-800 gap-x-4 items-center justify-between",children:a(le,{to:"/Pokemaniac",children:a("h3",{children:"Pokemaniac"})})}),R=["ground","electric","rock","ice","normal","grass","fire","fairy","bug","flying","steel"],F=({typeObj:e})=>{const t=e,n="bg-types-"+t;return a("div",{className:`px-1 py-0 ${n} rounded`,children:a("p",{className:R!=null&&R.includes(t)?"!text-zinc-900 capitalize":"!text-zinc-50 capitalize",children:t})})},B=e=>{var c,s,l;const{pokemon:t,handlePokemonDetails:n}=e;return a("div",{tabIndex:0,className:"cursor-pointer pr-4 py-2 pl-2 outline-1 rounded-sm transition-all ease-in-out delay-2  hover:bg-slate-100 hover:dark:bg-slate-800",onClick:()=>n(t.name),children:i("div",{className:"flex items-center gap-3",children:[a("div",{className:"w-28 h-28 min-w-[7rem]",children:a("img",{src:((c=t==null?void 0:t.sprites)==null?void 0:c.front_default)||"images/pokeball.svg",alt:(t==null?void 0:t.name)+" image",className:"block"})}),i("div",{className:"flex flex-col gap-y-2",children:[a("h5",{className:"font-sans text-left",children:(s=t.name)==null?void 0:s.toUpperCase()}),i("div",{className:"flex flex-wrap gap-2 items-center",children:[a("div",{className:"flex gap-x-2 flex-wrap",children:(l=t.types)==null?void 0:l.map(o=>a(F,{typeObj:o},o))}),i("div",{className:"flex gap-x-2 flex-wrap",children:[i("p",{children:["W - ",Math.floor(t.weight*.1)," kg"]}),i("p",{children:["H - ",Math.floor(t.height*10)," cm"]})]})]})]})]})})},Ne=()=>{var u,E;const{isListingLoading:e,handlePokemonDetails:t,pokeListing:n,isPokeDetailsLoading:c,detailsErrorMessage:s,pokeDetails:l,resetToDefaultFilters:o,handleFilters:m,pokemonTypes:r,typesFiltered:d}=Q(),p=fe(y=>{const x=y.target.value;m({name:x})},300);return e?a("div",{children:"Loading"}):i("div",{children:[a(K,{}),!e&&i("div",{className:"container md:px-8 px-4 w-full",children:[a("div",{className:"my-4",children:a("h3",{className:"text-left",children:"List of all pokemons"})}),a("input",{placeholder:"Search pokemon by name",onChange:p}),i("div",{className:"my-4",children:[a("h4",{className:"mb-2 text-left",children:"Filter By Pokemon Types "}),i("div",{className:"flex flex-wrap gap-2 outline-none",children:[r&&(r==null?void 0:r.map(({name:y})=>{const x=y;return a("button",{className:(d!=null&&d.includes(x)?"!bg-slate-700":"btn-basic ")+" rounded-sm px-2 border-none ",onClick:()=>m({type:x}),children:x},x)})),a("button",{className:"!bg-slate-600 px-2 border-none",onClick:()=>o(),children:"reset"})]})]}),((u=n==null?void 0:n.order)==null?void 0:u.length)===0&&a("div",{children:a("p",{children:"No results"})}),a("div",{className:"flex flex-wrap gap-2",children:(E=n.order)==null?void 0:E.map((y,x)=>{const P=n[y];return!P||P instanceof Array?null:a("div",{className:"w-[19rem] sm:w-[19rem] lg:w-[25rem]",children:a(B,{pokemon:P,handlePokemonDetails:t})},y)})})]})]})},Pe=async(e,t,n)=>{var h,k,A,O,_,M,b;const c=(t==null?void 0:t.name)||"",s=((h=n==null?void 0:n.growth_rate)==null?void 0:h.name)||"",l=(_=(O=(A=(k=t==null?void 0:t.abilities)==null?void 0:k[0])==null?void 0:A.ability)==null?void 0:O.name)==null?void 0:_.replace("-"," "),o=(n==null?void 0:n.capture_rate)||0,m=n==null?void 0:n.flavor_text_entries,r=((M=n==null?void 0:n.habitat)==null?void 0:M.name)||"",u=(await L()).data[e],E=((b=u==null?void 0:u.sprites)==null?void 0:b.front_default)||"",y=u==null?void 0:u.types,x=u==null?void 0:u.stats,P=t==null?void 0:t.sprites,N=t==null?void 0:t.moves;return{name:c,ability:l,growthRate:s,pokemonFrontImage:E,evolutionChain:[],captureRate:o,pokemonMoves:N,pokemonDescriptionEntries:m,habitat:r,pokemonTypes:y,pokemonStats:x,pokemonSprites:P}},X=async(e,t=[])=>{var l,o,m;const n={name:((l=e==null?void 0:e.species)==null?void 0:l.name)||""},s=(await L()).data;if(n.listDetails=s[n.name],((o=e==null?void 0:e.evolution_details)==null?void 0:o.length)>0){const r=e==null?void 0:e.evolution_details[0];n.levelAt=r==null?void 0:r.min_level,n.trigger=(m=r==null?void 0:r.trigger)==null?void 0:m.name,n.needsRain=(r==null?void 0:r.needs_overworld_rain)||!1,n.happiness=(r==null?void 0:r.min_happiness)||0,n.item=(r==null?void 0:r.held_item)||"",n.timeOfDay=(r==null?void 0:r.time_of_day)||""}t.push(n);for(let r of e==null?void 0:e.evolves_to)await X(r,t)},ke=(e,t)=>{const n=[];return X(e,n),w(T({},t),{evolutionChain:n})},we=()=>{const[e,t]=f.exports.useState(null),[n,c]=f.exports.useState(!1),[s,l]=f.exports.useState(""),o=ie();return f.exports.useEffect(function(){c(!0);const r=o.pokemon;(async()=>{var N,g,h;const p=ge(r),u=ye(r),[E,y]=await Promise.all([p,u]),x=await Pe(r,E.data,y.data);t(x),l(E.errorMessage),c(!1);const P=await Te((g=(N=y==null?void 0:y.data)==null?void 0:N.evolution_chain)==null?void 0:g.url);if(P.data){const k=ke((h=P.data)==null?void 0:h.chain,x);t(k)}})()},[]),{pokeDetails:e,isPokeDetailsLoading:n,detailsErrorMessage:s}},Z="pokemonTeamKey";function D(e,t,n,c){this.teamName=e||"",this.team=t||[],this.analytics=n||{},this.description=c||""}const ve=[],Me=new D("Favs",ve,{},"The author's favourite");function _e(){this.teams={teamOne:Me},this.teamOrder=["teamOne"]}const be=()=>Y(Z)||new _e,Ae=e=>J(Z,e,!0),v={CREATE_TEAM:"CREATE_TEAM",EDIT_TEAM:"EDIT_TEAM",DELETE_TEAM:"DELETE_TEAM",ADD_POKEMON_TO_TEAM:"ADD_POKEMON_TO_TEAM",EDIT_POKEMON_IN_TEAM:"EDIT_POKEMON_IN_TEAM",DELETE_POKEMON_IN_TEAM:"DELETE_POKEMON_IN_TEAM"},Oe=e=>e,Ie=(e,t)=>{const n=t.payload||{};switch(t.type){case v.CREATE_TEAM:const c=w(T({},e.teams),{[n.teamId]:new D(n.teamName)}),s=[...e.teamOrder,n.teamId];return w(T({},e),{teamOrder:s,teams:c});case v.DELETE_TEAM:const l=e.teamOrder.filter(p=>p!==n.teamId),o=T({},e.teams);return delete o[n.teamId],w(T({},e),{teamOrder:l,teams:o});case v.ADD_POKEMON_TO_TEAM:const m=[...e.teams[n.teamId].team,Oe(n.pokemonDetails)],r=w(T({},e.teams),{[n.teamId]:w(T({},e.teams[n.teamId]),{team:m})});return w(T({},e),{teams:r});case v.DELETE_POKEMON_IN_TEAM:return e.teams[n.teamId].team=e.teams[n.teamId].team.filter(p=>p.id!==n.pokemonId),T({},e);case v.EDIT_POKEMON_IN_TEAM:const d=e.teams[n.teamId];return d.team=d.team.map(p=>p.id===n.pokemonId?n.pokemonDetails:p),T({},e);default:return e}},ee=()=>{const e=f.exports.useMemo(()=>be(),[]),[t,n]=f.exports.useReducer(Ie,e);return f.exports.useEffect(function(){let r=null;return(p=>{r=setTimeout(()=>{t&&Ae(p)},0)})(t),()=>{clearTimeout(r)}},[t]),{teams:t,addPokemonToTeam:(m,r="teamOne")=>t.teams[r].team.length>=6?!1:(n({type:v.ADD_POKEMON_TO_TEAM,payload:{teamId:r||"teamOne",pokemonDetails:T({id:H()},m)}}),!0),deletePokemonFromTeam:(m,r="teamOne")=>(n({type:v.DELETE_POKEMON_IN_TEAM,payload:{teamId:r||"teamOne",pokemonId:m}}),!0),createTeam:m=>(n({type:v.CREATE_TEAM,payload:{teamId:H(),teamName:m}}),!0),deleteTeam:m=>(n({type:v.DELETE_TEAM,payload:{teamId:m}}),!0)}},Ce=({stats:e,isDetailed:t=!1})=>e?(e.reduce((n,c)=>n+c.stat,0),i("div",{className:"flex flex-col gap-2 px-4",children:[a("h4",{className:"mb-1 text-left",children:"Base Stats: "}),e.map(n=>{const c=Math.floor(n.stat/600*100);return i("div",{className:"grid grid-cols-[2fr_3fr_1fr] items-center gap-x-4",children:[a("h6",{className:"capitalize text-left",children:n.name}),a("div",{className:"w-[100%] bg-slate-700 h-2 rounded ",children:a("div",{style:{width:c+"%"},className:"bg-slate-50 h-2 rounded"})}),a("p",{className:"text-left",children:n.stat})]},n.name)})]})):null,Re=({moves:e})=>{const[t,n]=f.exports.useState([]);return f.exports.useEffect(function(){(async()=>{const o=await Ee();n(o.data)})()},[]),e?a("div",{className:"overflow-x-scroll",children:i("table",{children:[a("thead",{children:a("tr",{className:"bg-slate-800 h-12 rounded-sm",children:["Move name","Type","Power","Accuracy","Effect"].map(s=>a("th",{className:"text-left",children:s},s))})}),a("tbody",{children:e.map(s=>{var m,r;const l=(m=s==null?void 0:s.move)==null?void 0:m.name,o=t[l];return o?i("tr",{children:[a("td",{className:"text-left min-w-fit w-100% min-h-full",children:o==null?void 0:o.title}),a("td",{children:a(F,{typeObj:o==null?void 0:o.type})}),a("td",{className:"text-left",children:(o==null?void 0:o.power)||0}),i("td",{className:"text-left",children:[" ",(o==null?void 0:o.accuracy)||100]}),a("td",{className:"text-left break-word ",children:((r=o==null?void 0:o.effectEntries)==null?void 0:r.replace("$effect_chance",o==null?void 0:o.effectChance))||""})]},l):null})})]})}):null},Se=({evolutionDetails:e})=>!e||(e==null?void 0:e.length)<=0?null:i("div",{className:"mb-4",children:[a("h4",{className:"text-left",children:"Evolution Chain"}),a("div",{className:"p-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-2 gap-y-4",children:e==null?void 0:e.map(t=>i("div",{className:"flex flex-col gap-2 pl-2 border-l-[0.5px] border-l-fuchsia-50",children:[a(B,{pokemon:t.listDetails,handlePokemonDetails:()=>{}}),t.trigger&&i("p",{className:"text-left w-60",children:["Through ",t.trigger," ",t.levelAt," ",t.needsRain&&" Needs rain"," ",!!t.happiness&&` Requires minimum happiness of ${t.happiness}`,!!t.timeOfDay&&` at ${t.timeOfDay}`]})]},t.name))})]}),Le=()=>{var c,s;ee();const{pokeDetails:e,isPokeDetailsLoading:t,detailsErrorMessage:n}=we();return i("div",{children:[a(K,{}),t&&a("div",{children:"Loading"}),!t&&i("div",{className:"container px-4 pt-4",children:[i("div",{className:"flex items-center flex-wrap gap-x-12 mb-8",children:[i("div",{className:"flex flex-col items-center pb-4 mx-auto",children:[!!(e!=null&&e.pokemonFrontImage)&&a("img",{src:e==null?void 0:e.pokemonFrontImage,alt:(e==null?void 0:e.name)+" image",className:"w-48 mx-auto"}),i("div",{className:"flex flex-wrap gap-2 items-center mb-1",children:[i("h2",{children:[((c=e==null?void 0:e.name)==null?void 0:c.toUpperCase())||""," "]}),(s=e==null?void 0:e.pokemonTypes)==null?void 0:s.map(l=>a(F,{typeObj:l},l))]}),i("div",{className:"flex flex-wrap justify-center gap-2 items-center",children:[i("p",{className:"capitalize  dark:text-slate-300",children:["Growth Rate: ",e==null?void 0:e.growthRate]}),i("p",{className:"capitalize  dark:text-slate-300",children:["Ability: ",e==null?void 0:e.ability]})]})]}),a("div",{className:"w-[400px]",children:a(Ce,{stats:e==null?void 0:e.pokemonStats,isDetailed:!0})})]}),a(Se,{evolutionDetails:e==null?void 0:e.evolutionChain}),a(Re,{moves:e==null?void 0:e.pokemonMoves})]})]})},Ke=()=>{const{teams:e,deletePokemonFromTeam:t,createTeam:n,deleteTeam:c}=ee(),{handlePokemonDetails:s}=Q(),l=f.exports.useRef(null),[o,m]=f.exports.useState("");return i("div",{children:[a(K,{}),i("div",{className:"container",children:[a("h1",{children:"Your teams"}),i("div",{children:[i("div",{children:[a("label",{for:"team-name-form",children:"Enter team name"}),a("input",{id:"team-name-form",type:"text",ref:l,placeholder:"team name like Gen 1, Fire tyeps"}),a("p",{className:"text-red-700 dark:text-red-300",children:o})]}),a("button",{onClick:()=>{var p;const d=((p=l.current)==null?void 0:p.value)||"";if(d){if(Object.values(e.teams).find(E=>E.teamName===d)){m("team name already available");return}n(d),l.current.value=""}else m("enter team name to add")},children:"Submit"})]}),e.teamOrder.map(d=>{const p=e.teams[d].team;return i("div",{children:[i("div",{className:"my-4 flex py-1 gap-2 items-center",children:[a("h2",{children:e.teams[d].teamName||"Team name"}),a("button",{onClick:()=>c(d),children:"D"})]}),a("div",{className:"grid grid-cols-3",children:p.map(u=>i("div",{className:"w-max flex items-center gap-2",children:[a("button",{onClick:()=>t(u.id,d),children:"D"}),a(B,{pokemon:u,handlePokemonDetails:s},u.name)]},u.name))})]},d)})]})]})};function Fe(){return a("div",{className:"App",children:a(me,{children:a(de,{children:i(I,{path:"/",children:[a(I,{path:"/Pokemaniac",element:a(Ne,{})},"pokelisting"),a(I,{path:"/Pokemaniac/:pokemon",element:a(Le,{})},"pokeDetails"),a(I,{path:"/Pokemaniac/teams",element:a(Ke,{})},"pokeTeam")]})})})})}ue.createRoot(document.getElementById("root")).render(a(he.StrictMode,{children:a(Fe,{})}));
