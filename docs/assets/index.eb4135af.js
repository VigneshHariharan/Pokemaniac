var F=Object.defineProperty,K=Object.defineProperties;var $=Object.getOwnPropertyDescriptors;var A=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable;var I=(s,e,t)=>e in s?F(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,N=(s,e)=>{for(var t in e||(e={}))T.call(e,t)&&I(s,t,e[t]);if(A)for(var t of A(e))W.call(e,t)&&I(s,t,e[t]);return s},S=(s,e)=>K(s,$(e));import{j as M,r as c,c as U,R as q}from"./vendor.90e3b1c9.js";const H=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const m of a.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}};H();const o=M.exports.jsx,u=M.exports.jsxs,z=({typeObj:s})=>{const e=s;return o("div",{className:"type",children:o("p",{className:`--type-${e}`,children:e==null?void 0:e.toUpperCase()})})},G=({stats:s})=>{const e=s.reduce((t,l)=>t+l.stat,0);return o("div",{children:u("p",{children:["Total Base Stats - ",e]})})},J={name:"bulbasaur",weight:69,height:7,types:["grass","poison"],stats:[{name:"hp",stat:45},{name:"attack",stat:49},{name:"defense",stat:49},{name:"special-attack",stat:65},{name:"special-defense",stat:65},{name:"speed",stat:45}],sprites:{front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/1.png"}},Q={name:"ivysaur",weight:130,height:10,types:["grass","poison"],stats:[{name:"hp",stat:60},{name:"attack",stat:62},{name:"defense",stat:63},{name:"special-attack",stat:80},{name:"special-defense",stat:80},{name:"speed",stat:60}],sprites:{front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/2.png"}},V={name:"venusaur",weight:1e3,height:20,types:["grass","poison"],stats:[{name:"hp",stat:80},{name:"attack",stat:82},{name:"defense",stat:83},{name:"special-attack",stat:100},{name:"special-defense",stat:100},{name:"speed",stat:80}],sprites:{front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/3.png"}},X={name:"charmander",weight:85,height:6,types:["fire"],stats:[{name:"hp",stat:39},{name:"attack",stat:52},{name:"defense",stat:43},{name:"special-attack",stat:60},{name:"special-defense",stat:50},{name:"speed",stat:65}],sprites:{front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/4.png"}},Y={name:"charmeleon",weight:190,height:11,types:["fire"],stats:[{name:"hp",stat:58},{name:"attack",stat:64},{name:"defense",stat:58},{name:"special-attack",stat:80},{name:"special-defense",stat:65},{name:"speed",stat:80}],sprites:{front_default:"https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/5.png"}},Z=["bulbasaur","ivysaur","venusaur","charmander","charmeleon"];var ee={bulbasaur:J,ivysaur:Q,venusaur:V,charmander:X,charmeleon:Y,order:Z};const E="https://pokeapi.co/api/v2/pokemon",te="allPokemonKeys",se=(s,e)=>{},ae=async s=>await ee||null,ne=async()=>{const s=`${E}?limit=100000&offset=0`;try{return{data:await(await fetch(s)).json(),errorMessage:""}}catch(e){return console.log("Error while running fetchAllPokemons :",e),{data:[],errorMessage:e}}},C=async s=>{const e=`${E}/${s}`;try{return{data:await(await fetch(e)).json(),errorMessage:""}}catch(t){return console.log("Error while running fetchPokemonDetailsByName :",t),{data:[],errorMessage:t}}},oe=async()=>{const s=await ae();if(s)return s;const n=(await ne()).data.results.map(a=>a.name).map(a=>C(a));try{const a=await Promise.all(n);return se(te,a),{data:a.data,error:""}}catch(a){return console.log("Error while running fetchAllPokemonWithDetails :",a),{data:[],error:a}}},re=()=>{const[s,e]=c.exports.useState(!1),[t,l]=c.exports.useState([]),[n,a]=c.exports.useState([]),[m,d]=c.exports.useState(null),[f,k]=c.exports.useState(!1),[b,r]=c.exports.useState(""),[y,P]=c.exports.useState(""),[h,D]=c.exports.useState([]),j=c.exports.useCallback(g=>{k(!0),(async()=>{const p=await C(g);d(p.data),P(p.errorMessage),k(!1)})()},[]),B=c.exports.useCallback(({type:g})=>{var x;const i=[...h],p=i==null?void 0:i.findIndex(w=>w===g);p>-1?i.splice(p,1):i.push(g),D(i),console.log("newFilteredTypes",i,t,Object.entries(t));const O=(x=n.order)==null?void 0:x.filter(w=>{if((i==null?void 0:i.length)===0)return!0;const L=t[w];for(let _ of L==null?void 0:L.types)if(i.includes(_))return!0;return!1}),v=S(N({},t),{order:O});console.log("newPoke",v),l(v)},[h,t]),R=()=>{l(n)};return c.exports.useEffect(function(){e(!0),(async()=>{const p=await oe();e(!1),console.log("Pokemons : ",p),l(p),a(p),r(p.errorMessage)})()},[]),{isListingLoading:s,pokeListing:t,pokeDetails:m,isPokeDetailsLoading:f,listingErrorMessage:b,detailsErrorMessage:y,handlePokemonDetails:j,resetToDefaultFilters:R,handleFilters:B}},ie=()=>{var f;const{isListingLoading:s,handlePokemonDetails:e,pokeListing:t,isPokeDetailsLoading:l,detailsErrorMessage:n,pokeDetails:a,resetToDefaultFilters:m,handleFilters:d}=re();return s?o("div",{children:"Loading"}):u("div",{className:"container",children:[o("button",{onClick:()=>d({type:"fire"}),children:"fire"}),o("button",{onClick:()=>d({type:"water"}),children:"water"}),o("button",{onClick:()=>d({type:"electric"}),children:"electric"}),o("button",{onClick:()=>m(),children:"Reset to default"}),o("img",{src:"/Pokemaniac/docs/images/pokemons/014Kakuna.png",alt:"ma"}),o("div",{className:"pokelisting-container",children:(f=t.order)==null?void 0:f.map((k,b)=>{var y,P,h;const r=t[k];return!r||r instanceof Array?null:u("div",{className:"pokelisting-card-container",children:[o("h5",{children:(y=r.name)==null?void 0:y.toUpperCase()}),o("img",{src:(P=r==null?void 0:r.sprites)==null?void 0:P.front_default,alt:r.name+" image",className:"pokemon-front-image"}),o("div",{className:"type-container",children:(h=r.types)==null?void 0:h.map(D=>o(z,{typeObj:D}))}),o(G,{stats:r.stats}),u("div",{children:[u("p",{children:["Weight - ",r.weight]}),u("p",{children:["Height - ",r.height]})]})]},r.name)})})]})};function ce(){return c.exports.useState(0),o("div",{className:"App",children:o(ie,{})})}U.createRoot(document.getElementById("root")).render(o(q.StrictMode,{children:o(ce,{})}));
